<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
</head>
<body>
   <header></header>
   <div id='app'>
      <div>
         <span id='title'></span>
         <span id='author'></span>
         <span id='category'></span>
         <span id='time'></span>
      </div>
      <div id='content'></div>
      <br/>
      <hr/>
    <div v-for="item in comments">
       <div>{{item.ip}}</div>
       <br/>
       <div>{{item.content}}</div>
    </div>
   </div>


	<script src='jquery-3.4.0.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<script src='global.js'></script>
	<script src='util.js'></script>

	<script>
$(function(){
   // include components
   include('/comp/header.html', 'header');

   //
   var timestamp= getUrlParameter('timestamp');
   if(undefined ===timestamp || timestamp.length === 0){
      alert('TIMESTAMP Not found.');
      return;
   }
   var _TIMESTAMP = timestamp;
   $.ajax({
      url: _url_post_timestamp + '/' + timestamp,
      success: function(dat){
         $('#title').text(dat.title);
         $(document).attr('title', dat.title);
         $('#author').text(dat.author);
         $('#category').text(dat.category);
         $('#time').text(dat.time);
         $('#content').text(dat.content);
      },
      error: function(xhr, stat){
      }
   });
});

var app = new Vue({
   el: '#app',
   data: {
      comments: [],

   },
   methods: {
      loadcmms: function(){
         $.ajax({
            url: _url_comments + '/' + _TIMESTAMP,
         });
      }
   }
   mounted: function(){}
});
	</script>
</body>
   <style>
.info {
   padding-right: 2%;
}
   </style>
</html>
